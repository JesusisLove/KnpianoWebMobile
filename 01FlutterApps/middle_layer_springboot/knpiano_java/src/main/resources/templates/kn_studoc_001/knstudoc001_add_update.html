<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dashboard Template · Bootstrap</title>
    <link href="../assets/dist/css/bootstrap.css" th:href="@{/webjars/bootstrap/4.5.0/css/bootstrap.css}" rel="stylesheet">
    <link href="dashboard.css" th:href="@{/dashboard/dashboard.css}" rel="stylesheet">
</head>  

<body>
<div th:replace="~{commons/bar::topbar}"></div><!-- ヘッダー部分 -->
<div class="container-fluid">
    <div class="row">
        <div th:replace="~{commons/bar::sidebar(activeUri='kn_studoc_001_link_active')}"></div><!-- サイドバー部分 -->
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
            <form th:action="@{/kn_studoc_001}" method="post">
                <input type="hidden" name="_method" value="put" th:if="${selectedStuDoc!=null}"/>

                <!-- 新規登録 模式下 学生姓名用 下拉列表框显示 -->
                <div class="form-group" th:if="${selectedStuDoc==null}">
                    <label>学生姓名</label> 
                    <select class="form-control" name="stuId"> 
                        <option value="">请选择</option>
                        <option th:each="element : ${stuMap}" 
                                th:value="${element.key}" 
                                th:utext="${element.value}">
                        </option>
                    </select>
                </div>
                
                 <!-- 変更編集 模式下 学生姓名用 文本框且readonly显示 -->
                <div class="form-group" th:unless="${selectedStuDoc==null}">
                    <label>学生姓名</label> 
                    <input name="stuName" type="text" class="form-control" 
                           th:value="${selectedStuDoc.stuName}" 
                           readonly>
                    <input name="stuId" type="hidden" class="form-control" th:value="${selectedStuDoc.stuId}">
                </div>
                
                <!-- 新規登録 模式下 科目名称用 下拉列表框显示 -->
                <div class="form-group" th:if="${selectedStuDoc==null}">
                    <label>科目名称</label> 
                    <select class="form-control" name="subjectId"> 
                        <option value="">请选择</option>
                        <option th:each="element : ${subMap}" 
                                th:value="${element.key}" 
                                th:utext="${element.value}" 
                        ></option>
                    </select>
                </div>

                 <!-- 変更編集 模式下 科目名称用 文本框且readonly显示 -->
                <div class="form-group" th:unless="${selectedStuDoc==null}">
                    <label>科目名称</label> 
                    <input name="subjectName" type="text" class="form-control" 
                           th:value="${selectedStuDoc.subjectName}" 
                           readonly>
                    <input name="subjectId" type="hidden" th:value="${selectedStuDoc.subjectId}">
                </div>

                <!-- 新規登録 模式下 调整日期用 日期控件显示 -->
                <div class="form-group"  th:if="${selectedStuDoc==null}"><br>  
                    <label>調整日付</label> 
                    <input id="adjustedDate" name="adjustedDate" type="date" class="form-control" placeholder=""
                            th:value="${selectedStuDoc != null && selectedStuDoc.adjustedDate != null ?
                                 #dates.format(selectedStuDoc.adjustedDate, 'yyyy-MM-dd') 
                               : #dates.format(#dates.createToday(), 'yyyy-MM-dd')}">
                </div>
                <!-- 変更編集S 模式下 调整日期用 日期控件显示 -->
                <div class="form-group"  th:unless="${selectedStuDoc==null}"><br>  
                    <label>調整日付</label> 
                    <input id="adjustedDate" name="adjustedDate" type="text" class="form-control" readonly
                            th:value="${selectedStuDoc != null && selectedStuDoc.adjustedDate != null ?
                                 #dates.format(selectedStuDoc.adjustedDate, 'yyyy-MM-dd') 
                               : #dates.format(#dates.createToday(), 'yyyy-MM-dd')}">
                </div>
                

                <!-- Radio button -->
                <br>
                <div class="form-group"><label>支払区分</label>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="payStyle" value="1" th:checked="${selectedStuDoc!=null}?${selectedStuDoc.payStyle}==1">
                        <label class="form-check-label">按月交费</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="payStyle" value="2" th:checked="${selectedStuDoc!=null}?${selectedStuDoc.payStyle}==2">
                        <label class="form-check-label">按课时付费</label>
                    </div>
                </div>

                <div class="form-group"><br>  <label>標準価格</label> 
                    <input name="lessonFee" type="text" class="form-control" placeholder="" th:value="${selectedStuDoc!=null}?${selectedStuDoc.lessonFee}">
                </div>

                <div class="form-group"><br>  <label>調整価格</label> 
                    <input name="lessonFeeAdjusted" type="text" class="form-control" placeholder="" th:value="${selectedStuDoc!=null}?${selectedStuDoc.lessonFeeAdjusted}:'0.00'">
                </div>

                <button type="submit" class="btn btn-primary">保存</button>
            </form>
        </main>
    </div>
</div>
</body>
</html>
